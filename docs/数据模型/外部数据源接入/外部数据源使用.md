数据源的使用主要是通过**实体管理** -> **数据源模型**

## 查看数据源模型

可以在实体管理->数据源列表操作列中，点击模型列表，查看已映射的数据源实体模型列表

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.1.png)

也可以在实体管理界面，点击列表右上角 `图形模式`  图标，查看数据源模型列表和图表

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.2.png)

### 数据源模型列表

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.3.png)

### 数据源模型图表

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.4.png)

## 数据管理

在数据源模型列表操作列中，点击数据管理，可以快速对数据源数据进行增删改查操作。

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.5.png)

### 查看数据

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.6.png)

### 新增数据

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.7.png)

### 修改数据

![image](/img/数据源管理/外部数据源接入/外部数据源使用/2.8.png)

### 删除数据

请注意！！！默认删除为`物理删除`，测试前请注意数据备份。

## 更改字段类型

数据源模型支持所有的基本字段类型和绝大部分高级字段类型，可以通过更改默认映射的字段类型来实现高级字段类型使用

例如：我们有一个表【歌手】，有一个字段为【头像】，我们想保存头像图片地址，字段类型为`varchar`，步骤如下

1. 在实体管理->选择数据源->在列表模式/图形模式 -> 查看响应数据源实体模型

![4f2a40a3a1de6f8c3fff16cae304dcc0.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.9.png)

图形模式:

![0f987641bb980a60531a4111d23774d9.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.10.png)

2. 编辑数据源字段

在图形模式下可以直接编辑，列表模式下需要进入编辑界面，并切换到【字段集合】面板

3. 删除【头像】字段，然后点击`添加`，选择高级字段中的【图片】类型，并下一步

![85902714a263358ead781f8180fe4b26.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.11.png)

4. 填写字段名等，并调整配置

![ba02ebce5dab88246ea4cda67aafd704.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.12.png)

5. 点击保存，可以在数据管理中预览效果

新增歌手会渲染一个图片选择器组件，可以直接选择图片文件进行上传

![58906899f3a61992461bcc53115be2d6.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.13.png)

选择成功后点击保存，可以在列表中预览图片

![c5885fe3627e90993ba4b078b9bec6b7.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.14.png)

其他字段类型请查看数据模型相应介绍。

## 添加关系

数据源模型也支持添加关系，支持【一对一】、【一对多】、【多对一】、【多对多】

![cbeb9f02dc58d34ec80d4f382360a37b.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.15.png)

### 一对一

![a53356dfeec22728fdbec58078806310.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.18.png)

- 目标模型：选中需要建立关系的目标模型
- 关联字段在对方：关联的外键是否在对方表中
- 关联外键：选择关联的外键

### 一对多/多对一
多对一


![218a8250bc9d802c31f442ee0ff1392b.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.16.png)
* 目标模型：选择需要建立关系的目标模型
* 关联外键：选择关联的外键字段
* 字段名：关系字段名称

![2.19.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.19.png)
- 目标模型：选择需要建立关系的目标模型
- 关联外键：选择关联的外键字段

### 多对多

* 目标模型：选中需要建立关系的目标模型；
* 可自定义属性：勾选会和目标模型生成多对多关系一张需要的中间表模型
   中间表模型

![5d18f670de511dfd3783925106b4376c.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.20.png)

中间表模型

![5d18f670de511dfd3783925106b4376c.png](/img/数据源管理/外部数据源接入/外部数据源使用/2.21.png)

